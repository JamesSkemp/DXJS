function dice(t,e){this.name=t||"unamed dice",this.value=void 0,this.faces=e||[]}dice.prototype.roll=function(){var t=Math.floor(Math.random()*this.faces.length);return this.value=this.faces[t],this.value};var dx=function(){for(var t=2;20>=t;t++){for(var e=[],r=1;t>=r;r++)e.push(r);this["d"+t]=new dice("d"+t,e)}};dx.prototype.showDice=function(){var t=[];for(var e in this)this[e]instanceof dice&&t.push(this[e]);return t},dx.prototype._tryToParseDice=function(t){if(!/[^1-9]{0}d[1-9]+/.test(t))throw"no such dice: "+rollFunc;for(var e=/[^1-9]{0}d[1-9]+/.exec(t),r=parseInt(e.replace(/[a-z A-Z]/g,"")),i=[],o=1;r>=o;o++)face.push(o);this[e]=new dice(t,i)},dx.prototype._evaluateSingleRoll=function(t){var e=[],r=/[a-z]/.exec(t).index,i=1;if(r>0&&(i=parseInt(t.substring(0,r))),r>=0){var o=t.substring(r);void 0===this[o]&&this._tryToParseDice();for(var a=0,n=0;i>n;n++){var s=this[o].roll();e.push({value:s,"throw":o}),a+=s}}return{value:a,"throw":t,rolls:e}},dx.prototype.evaluateRoll=function(t){},DX=new dx;